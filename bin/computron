#!/usr/bin/env ruby

computron_dir = File.expand_path(File.join(File.dirname(__FILE__), '..', 'lib'))
$LOAD_PATH.unshift(computron_dir) unless $LOAD_PATH.include?(computron_dir)

require 'rubygems'
require 'computron'

simulation = Computron::DSL.new(File.read(ARGV.last))

Signal.trap('INT'){ 
  EM.stop 
}

simulation.run!